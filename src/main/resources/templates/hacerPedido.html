<!DOCTYPE html>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:replace="fragments/head :: header" />
    <title>Restaurant.es: Pedir</title>
</head>

<body class="d-flex flex-column h-100">
    <header th:replace="fragments/nav.html :: nav"></header>

    <main class="flex-shrink-0">
        <div class="container">
            <h1 class="mt-5">Pagina para hacer pedidos</h1>
        </div>
        
    </main>

    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <div class="row" style="background-color:#613A43; border-top-right-radius: 10px; 
                border-top-left-radius: 10px; border: 2px solid #000; color: #dbbdc5;">
                    <h2>Elige tus platos</h2>
                </div>
                
                <div class="row" style="border: 2px solid #000; border-top: 0px; border-bottom-left-radius: 10px;
                border-bottom-right-radius: 10px; overflow: auto; height: 500px;">
                    <div id="mostrarListaCompletaPlatos">

                        <th:block th:each="cat,iter: ${categorias}"><!-- Se recorre la lista de categorias -->
                            <h3 th:text="${cat.nombre}">Entrantes</h3>

                            <div th:each="plato: ${cat.platos}" class="row">
                                <div class="col-md-2">
                                    <img th:src="@{/img/logo.png}" src="/img/logo.png" alt="logo IW" width="80" height="80">
                                </div>
                                <div class="col">
                                    <div  th:text="${plato.nombre}" style="font-size: 20px; font-weight: bold;">Ensalada</div>
                                    <div th:text="${plato.descripcion}">
                                        <p>Descripción</p>
                                    </div>  
                                </div>
                                <div class="col">
                                    <div style="text-align: right;">
                                        <div th:text="${plato.precio} +' € '" style="line-height: 1.5; vertical-align: middle; display: inline-block;">
                                            9.90€&nbsp;
                                        </div>
                                        <button type="button" class="btn btn-primary" style="background-color:#613A43;">Comprar</button>
                                    </div>
                                </div>
                            </div>

                        </th:block>

                    </div>
                </div>
            </div>
        
            <div class="col-md-4 offset-1">
                <div class="row" style="background-color:#613A43; border-top-right-radius: 10px; 
                border-top-left-radius: 10px; border: 2px solid #000;color: #dbbdc5;">
                    <h2>Carrito</h2>
                </div>
                
                <div class="row" style="border: 2px solid #000; border-top: 0px; border-bottom-left-radius: 10px;
                border-bottom-right-radius: 10px; overflow: ms-auto; height: 500px;">
                    <div id="mostrarCarrito">
                        <div class="row" style="border-bottom: 1px solid; margin-top: 1%;">
                            <div class="col-md-6">
                                Chicken fingers
                            </div>
                            <div class="col">
                                9.90$
                            </div>
                            <div class="col">
                                <input type="number" value="1" style="width: 100%;" min="1" max="99">
                            </div>
                            <div class="col">
                                <div style="text-align: right; margin-bottom: 10%;">
                                    <button type="button" class="btn btn-outline-danger btn-sm">❌</button>
                                </div>
                            </div>
                        </div>


                        <!-- Boton de finalizar, precio total... -->
                        <!--<div style="position:relative;">
                            <div style="position:absolute; bottom: 0; left:0;">
                                hola
                            </div>
                        </div>-->

                        <div class="row">
                            <div class="col">
                                Total: 
                                <th:block id="totalCarrito" th:text="|${19.70}$|"></th:block>
                            </div>
                            <div class="col">
                                <div style="text-align: right;">
                                    <form id="finalizarPedido" th:action="@{/carta}">
                                        <button type="submit" class="btn btn-primary btn-sm" style="margin-top: 3%;">Finalizar</button>
                                    </form>
                                </div>
                            </div>
                        </div>      

                    </div>
                </div>
            </div>
        </div>
    </div>


    <th:block th:replace="fragments/footer.html :: footer" />
</body>

</html>