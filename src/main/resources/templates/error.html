<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <th:block th:replace="fragments/head :: header" />
    <title th:text="|Restaurant.es: Error ${status}|">Restaurant.es: Error</title>
</head>

<body>
    <nav th:replace="fragments/nav.html :: nav">
        Nav goes here
    </nav>

    <div class="container">
        <div class="main">

            <h4>Error <span th:text="${status}"></span></h4>

            <div th:unless="${application.debug}">
                <img th:src="|https://http.cat/${status}|" alt="gato ilustrando problema" />
                <p>Los administradores est치n informados. Puedes volver a intentar hacer lo que estabas haciendo de otra forma, o esperar a que solucionen el problema.</p>
            </div>
            <div th:if="${application.debug}">

                <p>游땬游땪Ha pasado algo feo. Mira el log del servidor para saber m치s detalles.游땪游땬</p>
                <img th:src="|https://http.cat/${status}|" alt="gato ilustrando problema" />
                <h4>Detalles del error</h4>
                <table class="errTable">
                    <tr>
                        <td>Date</td>
                        <td th:text="${timestamp}"></td>
                    </tr>
                    <tr>
                        <td>Path</td>
                        <td th:text="${path}"></td>
                    </tr>
                    <tr>
                        <td>Error</td>
                        <td th:text="${error}"></td>
                    </tr>
                    <tr>
                        <td>Status</td>
                        <td th:text="${status}"></td>
                    </tr>
                    <tr>
                        <td>Mensaje</td>
                        <td th:text="${message}"></td>
                    </tr>
                    <tr>
                        <td>Excepci칩n</td>
                        <td th:text="${exception}"></td>
                    </tr>
                    <tr>
                        <td>Traza</td>
                        <td><pre th:text="${trace}" /></td>
                    </tr>
                </table>

                <h4>Variables definidas en sesi칩n</h4>
                <table class="errTable">
                    <tr th:each="v: ${session}">
                        <td><span class="errKey" th:text="${v.key}"></span>
                            <td th:text="${v.value}">
                </table>

                <h4>Variables definidas en par치metros</h4>
                <table class="errTable">
                    <tr th:each="v: ${param}">
                        <td th:text="${v.key}"></td>
                        <td>
                            <div th:each="v: ${v.value}">
                                <div th:text="${v}"></div>
                            </div>
                        </td>
                    </tr>
                </table>

                <h4>Otras</h4>
                <table class="errTable">
                    <tr>
                        <td>req.url</td>
                        <td th:text="${#request.requestURL}"></td>
                    </tr>
                    <tr>
                        <td>req.uri</td>
                        <td th:text="${#request.requestURI}">
                        </td>
                    </tr>
                    <tr>
                        <td>req.getHeader("User-Agent")</td>
                        <td th:text="${#request.getHeader('User-Agent')}"></td>
                    </tr>
                </table>

            </div>

        </div>
        <!-- end main div -->
    </div>
    <!-- end container div -->

    <footer th:replace="fragments/footer.html :: footer">
        Footer goes here
    </footer>
</body>

</html>